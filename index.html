<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>AI Diet Planner</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    body {margin:0; font-family:system-ui; background:#0b0c10; color:#e6e7eb;}
    .app {max-width:1000px; margin:20px auto; display:flex; gap:20px; padding:0 15px; flex-wrap:wrap;}
    .card {background:#111319; border-radius:18px; padding:20px; box-shadow:0 6px 18px rgba(0,0,0,.35); flex:1 1 300px;}
    .btn {display:inline-block; padding:12px 18px; border-radius:12px;
          background:linear-gradient(135deg,#6ee7b7,#60a5fa); color:#0b1220;
          font-weight:700; cursor:pointer; border:none; margin-top:10px; text-decoration:none; text-align:center;}
    .btn:hover {opacity:0.9; transform:scale(1.05); transition:0.2s;}
    input[type=file]{display:none}
    .preview img {max-width:100%; border-radius:14px; border:1px solid rgba(255,255,255,.1);}
    .diet {margin-top:12px; line-height:1.5;}
    h2 {margin-top:0;}
    #lang-switcher {display:inline-flex; gap:10px; justify-content:center; margin-top:10px;}
    .flag {
      cursor: pointer;
      padding: 6px 10px;
      border-radius: 10px;
      border: 2px solid transparent;
      transition: all 0.3s ease;
      font-size: 24px;
    }
    .flag:hover {transform: scale(1.2);}
    .flag.active {border-color: #60a5fa; background: rgba(96,165,250,0.2);}
    .inputs {margin-top:15px; display:flex; gap:10px; flex-wrap:wrap;}
    .inputs input {flex:1 1 120px; padding:10px; border-radius:10px; border:1px solid #333; background:#1a1c22; color:#e6e7eb;}
    #week {margin-top:20px; padding-top:15px; border-top:1px solid #333;}
    #week h3 {margin-top:0;}
    @media (max-width:700px){
      .app {flex-direction:column;}
      .btn {width:100%; text-align:center;}
    }
  </style>
</head>
<body>
  <header style="text-align:center; margin:20px;">
    <h1 id="title">AI Diet Planner (online)</h1>
    <p id="subtitle">–ó–∞–≥—Ä—É–∑–∏ —Ñ–æ—Ç–æ ‚Äî –ø–æ–ª—É—á–∏ –≥–æ—Ç–æ–≤—É—é –¥–∏–µ—Ç—É</p>
    <div id="lang-switcher">
      <div class="flag" data-lang="ru">üá∑üá∫</div>
      <div class="flag" data-lang="en">üá∫üá∏</div>
      <div class="flag" data-lang="ka">üá¨üá™</div>
    </div>
    <a href="diets.html" class="btn">–ü–µ—Ä–µ–π—Ç–∏ –∫ –¥–∏–µ—Ç–∞–º</a>
  </header>

  <main class="app">
    <!-- –õ–µ–≤–∞—è –ø–∞–Ω–µ–ª—å -->
    <section class="card">
      <h2 id="uploadTitle">–ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–æ—Ç–æ</h2>
      <label class="btn" for="file" id="uploadBtn">–í—ã–±—Ä–∞—Ç—å —Ñ–æ—Ç–æ</label>
      <input type="file" id="file" accept="image/*">
      <div class="preview" style="margin-top:16px">
        <img id="img" hidden>
      </div>
      <div class="inputs">
        <input type="number" id="height" placeholder="–†–æ—Å—Ç (—Å–º)">
        <input type="number" id="weight" placeholder="–í–µ—Å (–∫–≥)">
      </div>
      <button class="btn" id="analyze">–ù–∞–∑–Ω–∞—á–∏—Ç—å –¥–∏–µ—Ç—É</button>
    </section>

    <!-- –ü—Ä–∞–≤–∞—è –ø–∞–Ω–µ–ª—å -->
    <section class="card">
      <h2 id="resultTitle">–¢–≤–æ—è –¥–∏–µ—Ç–∞</h2>
      <div id="result" class="diet">–ó–¥–µ—Å—å –ø–æ—è–≤–∏—Ç—Å—è –ø–ª–∞–Ω –ø–∏—Ç–∞–Ω–∏—è</div>
      <div id="week"></div>
    </section>
  </main>

  <!-- –°—á—ë—Ç—á–∏–∫ –ø–æ—Å–µ—Ç–∏—Ç–µ–ª–µ–π -->
  <div style="text-align:center; margin:30px 0;">
    <a href='http://www.freevisitorcounters.com' target="_blank" style="color:#60a5fa; text-decoration:none; font-weight:bold;">free —Å—á–µ—Ç—á–∏–∫–∏ –ø–æ—Å–µ—Ç–∏—Ç–µ–ª–µ–π</a>
    <br>
    <script type='text/javascript' src='https://www.freevisitorcounters.com/auth.php?id=9b7eba1f58bc50b78c2890451ccdcd526dab15be'></script>
    <script type="text/javascript" src="https://www.freevisitorcounters.com/en/home/counter/1387540/t/6"></script>
  </div>

  <script>
    const fileInput = document.getElementById('file');
    const img = document.getElementById('img');
    const analyzeBtn = document.getElementById('analyze');
    const resultEl = document.getElementById('result');
    const weekEl = document.getElementById('week');
    const flags = document.querySelectorAll('.flag');
    let currentLang = "ru";

    const diets = {
      ru: {
        loss: {title:"–ü–æ—Ö—É–¥–µ–Ω–∏–µ", text:"08:00 ‚Äì –ó–∞–≤—Ç—Ä–∞–∫: –æ–≤—Å—è–Ω–∫–∞ —Å —è–≥–æ–¥–∞–º–∏ (300 –∫–∫–∞–ª)\n13:00 ‚Äì –û–±–µ–¥: –∫—É—Ä–∏–Ω–∞—è –≥—Ä—É–¥–∫–∞ + —Å–∞–ª–∞—Ç (450 –∫–∫–∞–ª)\n19:00 ‚Äì –£–∂–∏–Ω: —Å–∞–ª–∞—Ç —Å —Ç—É–Ω—Ü–æ–º (350 –∫–∫–∞–ª)", 
          week:["–ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫: –æ–≤–æ—â–Ω–æ–π —Å—É–ø, —Å–∞–ª–∞—Ç","–í—Ç–æ—Ä–Ω–∏–∫: —Ä—ã–±–∞ –Ω–∞ –ø–∞—Ä—É, –≥—Ä–µ—á–∫–∞","–°—Ä–µ–¥–∞: –∫—É—Ä–∏–Ω–∞—è –≥—Ä—É–¥–∫–∞, –æ–≤–æ—â–∏","–ß–µ—Ç–≤–µ—Ä–≥: –æ–º–ª–µ—Ç, —Å–∞–ª–∞—Ç","–ü—è—Ç–Ω–∏—Ü–∞: —Ç–≤–æ—Ä–æ–≥, —Ñ—Ä—É–∫—Ç—ã","–°—É–±–±–æ—Ç–∞: –∏–Ω–¥–µ–π–∫–∞, –æ–≤–æ—â–∏","–í–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ: –ª—ë–≥–∫–∏–π —Å—É–ø, –æ–≤–æ—â–∏"]},
        gain: {title:"–ù–∞–±–æ—Ä –º–∞—Å—Å—ã", text:"08:00 ‚Äì –ó–∞–≤—Ç—Ä–∞–∫: –æ–º–ª–µ—Ç –∏–∑ 4 —è–∏—Ü, —Ö–ª–µ–± (500 –∫–∫–∞–ª)\n13:30 ‚Äì –û–±–µ–¥: —Ä–∏—Å, –≥–æ–≤—è–¥–∏–Ω–∞, –æ–≤–æ—â–∏ (700 –∫–∫–∞–ª)\n20:00 ‚Äì –£–∂–∏–Ω: –ø–∞—Å—Ç–∞ —Å –∫—É—Ä–∏—Ü–µ–π (600 –∫–∫–∞–ª)", 
          week:["–ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫: –∫—É—Ä–∏—Ü–∞, —Ä–∏—Å","–í—Ç–æ—Ä–Ω–∏–∫: –≥–æ–≤—è–¥–∏–Ω–∞, –∫–∞—Ä—Ç–æ—Ñ–µ–ª—å","–°—Ä–µ–¥–∞: –æ–º–ª–µ—Ç, —Ç–æ—Å—Ç—ã","–ß–µ—Ç–≤–µ—Ä–≥: –ø–∞—Å—Ç–∞, –∫—É—Ä–∏—Ü–∞","–ü—è—Ç–Ω–∏—Ü–∞: —Ä—ã–±–∞, —Ä–∏—Å","–°—É–±–±–æ—Ç–∞: –∏–Ω–¥–µ–π–∫–∞, –º–∞–∫–∞—Ä–æ–Ω—ã","–í–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ: –ø–∏—Ü—Ü–∞ –¥–æ–º–∞—à–Ω—è—è"]},
        keep: {title:"–ü–æ–¥–¥–µ—Ä–∂–∞–Ω–∏–µ –≤–µ—Å–∞", text:"07:30 ‚Äì –ó–∞–≤—Ç—Ä–∞–∫: –π–æ–≥—É—Ä—Ç —Å –º—é—Å–ª–∏ (350 –∫–∫–∞–ª)\n13:00 ‚Äì –û–±–µ–¥: –∫—É—Ä–∏—Ü–∞, –≥—Ä–µ—á–∫–∞, –æ–≤–æ—â–∏ (550 –∫–∫–∞–ª)\n19:30 ‚Äì –£–∂–∏–Ω: —Ä—ã–±–∞ + —Å–∞–ª–∞—Ç (450 –∫–∫–∞–ª)", 
          week:["–ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫: –∫–∞—à–∞, —Ñ—Ä—É–∫—Ç—ã","–í—Ç–æ—Ä–Ω–∏–∫: —Ä—ã–±–∞, –æ–≤–æ—â–∏","–°—Ä–µ–¥–∞: –∫—É—Ä–∏—Ü–∞, —Å–∞–ª–∞—Ç","–ß–µ—Ç–≤–µ—Ä–≥: –æ–º–ª–µ—Ç, –æ–≤–æ—â–∏","–ü—è—Ç–Ω–∏—Ü–∞: –π–æ–≥—É—Ä—Ç, –æ—Ä–µ—Ö–∏","–°—É–±–±–æ—Ç–∞: –∏–Ω–¥–µ–π–∫–∞, –æ–≤–æ—â–∏","–í–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ: –æ–≤–æ—â–Ω–æ–π —Å—É–ø"]} 
      },
      en: {
        loss: {title:"Weight Loss", text:"08:00 ‚Äì Breakfast: oatmeal with berries (300 kcal)\n13:00 ‚Äì Lunch: grilled chicken + salad (450 kcal)\n19:00 ‚Äì Dinner: tuna salad (350 kcal)", 
          week:["Mon: vegetable soup, salad","Tue: steamed fish, buckwheat","Wed: chicken breast, veggies","Thu: omelet, salad","Fri: cottage cheese, fruits","Sat: turkey, veggies","Sun: light soup, salad"]},
        gain: {title:"Muscle Gain", text:"08:00 ‚Äì Breakfast: 4-egg omelet, bread (500 kcal)\n13:30 ‚Äì Lunch: rice, beef, veggies (700 kcal)\n20:00 ‚Äì Dinner: pasta with chicken (600 kcal)", 
          week:["Mon: chicken & rice","Tue: beef & potatoes","Wed: omelet & toasts","Thu: pasta & chicken","Fri: fish & rice","Sat: turkey & pasta","Sun: homemade pizza"]},
        keep: {title:"Maintain Weight", text:"07:30 ‚Äì Breakfast: yogurt with muesli (350 kcal)\n13:00 ‚Äì Lunch: chicken, buckwheat, veggies (550 kcal)\n19:30 ‚Äì Dinner: fish + salad (450 kcal)", 
          week:["Mon: porridge, fruits","Tue: fish & veggies","Wed: chicken & salad","Thu: omelet & veggies","Fri: yogurt & nuts","Sat: turkey & veggies","Sun: vegetable soup"]}
      },
      ka: {
        loss: {title:"·É¨·Éù·Éú·Éò·É° ·Éì·Éê·Éô·Éö·Éî·Éë·Éê", text:"08:00 ‚Äì ·É°·Éê·É£·Éñ·Éõ·Éî: ·É®·Éï·É†·Éò·Éê·É° ·É§·Éê·É§·Éê ·ÉÆ·Éò·Éö·Éò·Éó (300 ·Éô·Éô·Éê·Éö)\n13:00 ‚Äì ·É°·Éê·Éì·Éò·Éö·Éò: ·É•·Éê·Éó·Éõ·Éò·É° ·É§·Éò·Éö·Éî + ·É°·Éê·Éö·Éê·Éó·Éò (450 ·Éô·Éô·Éê·Éö)\n19:00 ‚Äì ·Éï·Éê·ÉÆ·É®·Éê·Éõ·Éò: ·Éó·Éò·Éú·É£·É°·Éò·É° ·É°·Éê·Éö·Éê·Éó·Éò (350 ·Éô·Éô·Éê·Éö)", 
          week:["·Éù·É†·É®·Éê·Éë·Éê·Éó·Éò: ·Éë·Éù·É°·É¢·Éú·Éî·É£·Éö·Éò·É° ·É°·É£·Éû·Éò","·É°·Éê·Éõ·É®·Éê·Éë·Éê·Éó·Éò: ·Éó·Éî·Éï·Éñ·Éò ·Éë·Éù·É°·É¢·Éú·Éî·É£·Éö·Éò·Éó","·Éù·Éó·ÉÆ·É®·Éê·Éë·Éê·Éó·Éò: ·É•·Éê·Éó·Éê·Éõ·Éò","·ÉÆ·É£·Éó·É®·Éê·Éë·Éê·Éó·Éò: ·Éù·Éõ·Éö·Éî·É¢·Éò","·Éû·Éê·É†·Éê·É°·Éô·Éî·Éï·Éò: ·ÉÆ·Éê·É≠·Éù ·Éì·Éê ·ÉÆ·Éò·Éö·Éò","·É®·Éê·Éë·Éê·Éó·Éò: ·Éò·Éú·Éì·Éê·É£·É†·Éò","·Éô·Éï·Éò·É†·Éê: ·Éõ·É°·É£·Éë·É£·É•·Éò ·É°·É£·Éû·Éò"]},
        gain: {title:"·Éô·É£·Éú·Éó·Éò·É° ·Éõ·Éê·É°·Éò·É° ·Éñ·É†·Éì·Éê", text:"08:00 ‚Äì ·É°·Éê·É£·Éñ·Éõ·Éî: ·Éù·Éõ·Éö·Éî·É¢·Éò 4 ·Éô·Éï·Éî·É†·É™·ÉÆ·Éò·Éó, ·Éû·É£·É†·Éò (500 ·Éô·Éô·Éê·Éö)\n13:30 ‚Äì ·É°·Éê·Éì·Éò·Éö·Éò: ·Éë·É†·Éò·Éú·ÉØ·Éò, ·É´·É†·Éù·ÉÆ·Éò·É° ·ÉÆ·Éù·É†·É™·Éò (700 ·Éô·Éô·Éê·Éö)\n20:00 ‚Äì ·Éï·Éê·ÉÆ·É®·Éê·Éõ·Éò: ·Éû·Éê·É°·É¢·Éê ·É•·Éê·Éó·Éõ·Éò·Éó (600 ·Éô·Éô·Éê·Éö)", 
          week:["·Éù·É†·É®·Éê·Éë·Éê·Éó·Éò: ·É•·Éê·Éó·Éê·Éõ·Éò ·Éì·Éê ·Éë·É†·Éò·Éú·ÉØ·Éò","·É°·Éê·Éõ·É®·Éê·Éë·Éê·Éó·Éò: ·É´·É†·Éù·ÉÆ·Éò·É° ·ÉÆ·Éù·É†·É™·Éò ·Éì·Éê ·Éô·Éê·É†·É¢·Éù·É§·Éò·Éö·Éò","·Éù·Éó·ÉÆ·É®·Éê·Éë·Éê·Éó·Éò: ·Éù·Éõ·Éö·Éî·É¢·Éò","·ÉÆ·É£·Éó·É®·Éê·Éë·Éê·Éó·Éò: ·Éû·Éê·É°·É¢·Éê ·É•·Éê·Éó·Éõ·Éò·Éó","·Éû·Éê·É†·Éê·É°·Éô·Éî·Éï·Éò: ·Éó·Éî·Éï·Éñ·Éò","·É®·Éê·Éë·Éê·Éó·Éò: ·Éò·Éú·Éì·Éê·É£·É†·Éò","·Éô·Éï·Éò·É†·Éê: ·É°·Éê·ÉÆ·Éö·Éò·É° ·Éû·Éò·É™·Éê"]},
        keep: {title:"·É¨·Éù·Éú·Éò·É° ·É®·Éî·Éú·Éê·É†·É©·É£·Éú·Éî·Éë·Éê", text:"07:30 ‚Äì ·É°·Éê·É£·Éñ·Éõ·Éî: ·Éò·Éù·Éí·É£·É†·É¢·Éò ·Éõ·Éò·É£·É°·Éö·Éò·Éó (350 ·Éô·Éô·Éê·Éö)\n13:00 ‚Äì ·É°·Éê·Éì·Éò·Éö·Éò: ·É•·Éê·Éó·Éê·Éõ·Éò, ·É¨·Éò·É¨·Éò·Éë·É£·É†·Éê, ·Éë·Éù·É°·É¢·Éú·Éî·É£·Éö·Éò (550 ·Éô·Éô·Éê·Éö)\n19:30 ‚Äì ·Éï·Éê·ÉÆ·É®·Éê·Éõ·Éò: ·Éó·Éî·Éï·Éñ·Éò ·Éì·Éê ·É°·Éê·Éö·Éê·Éó·Éò (450 ·Éô·Éô·Éê·Éö)", 
          week:["·Éù·É†·É®·Éê·Éë·Éê·Éó·Éò: ·É§·Éê·É§·Éê ·Éì·Éê ·ÉÆ·Éò·Éö·Éò","·É°·Éê·Éõ·É®·Éê·Éë·Éê·Éó·Éò: ·Éó·Éî·Éï·Éñ·Éò","·Éù·Éó·ÉÆ·É®·Éê·Éë·Éê·Éó·Éò: ·É•·Éê·Éó·Éê·Éõ·Éò","·ÉÆ·É£·Éó·É®·Éê·Éë·Éê·Éó·Éò: ·Éù·Éõ·Éö·Éî·É¢·Éò","·Éû·Éê·É†·Éê·É°·Éô·Éî·Éï·Éò: ·Éò·Éù·Éí·É£·É†·É¢·Éò","·É®·Éê·Éë·Éê·Éó·Éò: ·Éò·Éú·Éì·Éê·É£·É†·Éò","·Éô·Éï·Éò·É†·Éê: ·Éë·Éù·É°·É¢·Éú·Éî·É£·Éö·Éò·É° ·É°·É£·Éû·Éò"]}
      }
    };

    const uiText = {
      ru:{title:"AI Diet Planner (online)",subtitle:"–ó–∞–≥—Ä—É–∑–∏ —Ñ–æ—Ç–æ ‚Äî –ø–æ–ª—É—á–∏ –≥–æ—Ç–æ–≤—É—é –¥–∏–µ—Ç—É",uploadTitle:"–ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–æ—Ç–æ",uploadBtn:"–í—ã–±—Ä–∞—Ç—å —Ñ–æ—Ç–æ",analyze:"–ù–∞–∑–Ω–∞—á–∏—Ç—å –¥–∏–µ—Ç—É",resultTitle:"–¢–≤–æ—è –¥–∏–µ—Ç–∞",empty:"–ó–¥–µ—Å—å –ø–æ—è–≤–∏—Ç—Å—è –ø–ª–∞–Ω –ø–∏—Ç–∞–Ω–∏—è",week:"–î–∏–µ—Ç–∞ –Ω–µ–¥–µ–ª–∏"},
      en:{title:"AI Diet Planner (online)",subtitle:"Upload a photo ‚Äî get your diet plan",uploadTitle:"Upload Photo",uploadBtn:"Choose Photo",analyze:"Generate Diet",resultTitle:"Your Diet",empty:"Your diet plan will appear here",week:"Weekly Diet"},
      ka:{title:"AI ·Éì·Éò·Éî·É¢·Éò·É° ·Éû·Éö·Éê·Éú·Éî·É†·Éò",subtitle:"·Éê·É¢·Éï·Éò·É†·Éó·Éî ·É§·Éù·É¢·Éù ‚Äî ·Éõ·Éò·Éò·É¶·Éî ·Éì·Éò·Éî·É¢·Éê",uploadTitle:"·É§·Éù·É¢·Éù·É° ·Éê·É¢·Éï·Éò·É†·Éó·Éï·Éê",uploadBtn:"·É§·Éù·É¢·Éù",analyze:"·Éì·Éò·Éî·É¢·Éò·É° ·Éí·Éî·Éú·Éî·É†·Éê·É™·Éò·Éê",resultTitle:"·É®·Éî·Éú·Éò ·Éì·Éò·Éî·É¢·Éê",empty:"·Éê·É• ·Éí·Éê·Éõ·Éù·É©·Éú·Éì·Éî·Éë·Éê ·Éì·Éò·Éî·É¢·Éê",week:"·Éô·Éï·Éò·É†·Éò·É° ·Éì·Éò·Éî·É¢·Éê"}
    };

    fileInput.addEventListener('change', e=>{
      const f = e.target.files[0];
      if(f){ img.src = URL.createObjectURL(f); img.hidden = false; }
    });

    function speak(text, lang) {
      const utterance = new SpeechSynthesisUtterance(text);
      utterance.lang = lang==="ru"?"ru-RU":lang==="en"?"en-US":"ka-GE";
      speechSynthesis.cancel();
      speechSynthesis.speak(utterance);
    }

    analyzeBtn.addEventListener('click', ()=>{
      const h = parseFloat(document.getElementById("height").value);
      const w = parseFloat(document.getElementById("weight").value);
      let dietType;
      if(h && w){
        const bmi = w/((h/100)**2);
        if(bmi<18.5) dietType="gain";
        else if(bmi>25) dietType="loss";
        else dietType="keep";
      } else {
        const types=["loss","gain","keep"];
        dietType=types[Math.floor(Math.random()*3)];
      }
      const d = diets[currentLang][dietType];
      resultEl.innerHTML = `<h3>${d.title}</h3>${d.text.replace(/\n/g,"<br>")}`;
      weekEl.innerHTML = `<h3>${uiText[currentLang].week}</h3><ul>${d.week.map(x=>"<li>"+x+"</li>").join("")}</ul>`;
      speak(`${d.title}. ${d.text}`, currentLang);
    });

    function setLanguage(lang){
      currentLang=lang;
      const t=uiText[lang];
      document.getElementById("title").innerText=t.title;
      document.getElementById("subtitle").innerText=t.subtitle;
      document.getElementById("uploadTitle").innerText=t.uploadTitle;
      document.getElementById("uploadBtn").innerText=t.uploadBtn;
      document.getElementById("analyze").innerText=t.analyze;
      document.getElementById("resultTitle").innerText=t.resultTitle;
      resultEl.innerText=t.empty;
      weekEl.innerHTML="";
      flags.forEach(f=>f.classList.toggle('active',f.dataset.lang===lang));
    }

    flags.forEach(flag=>flag.addEventListener('click',()=>setLanguage(flag.dataset.lang)));
    setLanguage('ru');
  </script>
</body>
</html>
