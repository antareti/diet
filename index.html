<!DOCTYPE html>
<html lang="ru">
<head>
Â  <meta charset="UTF-8">
Â  <title>AI Diet Planner</title>
Â  <style>
Â  Â  body {margin:0; font-family:system-ui; background:#0b0c10; color:#e6e7eb;}
Â  Â  .app {max-width:900px; margin:40px auto; display:grid; grid-template-columns:1fr 1fr; gap:20px; padding:0 20px;}
Â  Â  .card {background:#111319; border-radius:18px; padding:20px; box-shadow:0 6px 18px rgba(0,0,0,.35);}
Â  Â  .btn {display:inline-block; padding:12px 18px; border-radius:12px;
Â  Â  Â  Â  Â  background:linear-gradient(135deg,#6ee7b7,#60a5fa); color:#0b1220;
Â  Â  Â  Â  Â  font-weight:700; cursor:pointer; border:none;}
Â  Â  input[type=file]{display:none}
Â  Â  input[type=number]{
Â  Â  Â  background: #0b1220;
Â  Â  Â  border: 1px solid #333;
Â  Â  Â  color: #e6e7eb;
Â  Â  Â  border-radius: 8px;
Â  Â  Â  padding: 8px 12px;
Â  Â  Â  width: calc(50% - 24px);
Â  Â  Â  margin-right: 12px;
Â  Â  }
Â  Â  .preview img {max-width:100%; border-radius:14px; border:1px solid rgba(255,255,255,.1);}
Â  Â  .diet {margin-top:12px; line-height:1.5; white-space: pre-wrap;}
Â  Â  h2 {margin-top:0;}
Â  Â  #lang-switcher {display:inline-flex; gap:10px; justify-content:center; margin-top:10px;}
Â  Â  .flag {
Â  Â  Â  cursor: pointer;
Â  Â  Â  padding: 6px 10px;
Â  Â  Â  border-radius: 10px;
Â  Â  Â  border: 2px solid transparent;
Â  Â  Â  transition: all 0.3s ease;
Â  Â  Â  font-size: 24px;
Â  Â  }
Â  Â  .flag:hover {transform: scale(1.2);}
Â  Â  .flag.active {border-color: #60a5fa; background: rgba(96,165,250,0.2);}
    #bmi-inputs {margin-top: 15px;}
    .alert {color: #f44336; margin-top: 10px;}
 </style>
</head>
<body>
Â  <header style="text-align:center; margin:20px;">
Â  Â  <h1 id="title">AI Diet Planner (online)</h1>
Â  Â  <p id="subtitle">Ğ—Ğ°Ğ³Ñ€ÑƒĞ·Ğ¸ Ñ„Ğ¾Ñ‚Ğ¾ â€” Ğ¿Ğ¾Ğ»ÑƒÑ‡Ğ¸ Ğ³Ğ¾Ñ‚Ğ¾Ğ²ÑƒÑ Ğ´Ğ¸ĞµÑ‚Ñƒ</p>
Â  Â  <div id="lang-switcher">
Â  Â  Â  <div class="flag" data-lang="ru">ğŸ‡·ğŸ‡º</div>
Â  Â  Â  <div class="flag" data-lang="en">ğŸ‡ºğŸ‡¸</div>
Â  Â  </div>
Â  </header>

Â  <main class="app">
Â  Â  Â  Â  <section class="card">
Â  Â  Â  <h2 id="uploadTitle">Ğ—Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ° Ñ„Ğ¾Ñ‚Ğ¾</h2>
Â  Â  Â  <label class="btn" for="file" id="uploadBtn">Ğ’Ñ‹Ğ±Ñ€Ğ°Ñ‚ÑŒ Ñ„Ğ¾Ñ‚Ğ¾</label>
Â  Â  Â  <input type="file" id="file" accept="image/*">
Â  Â  Â  <div class="preview" style="margin-top:16px">
Â  Â  Â  Â  <img id="img" hidden>
Â  Â  Â  </div>
     <div id="bmi-inputs">
        <h3 id="bmiTitle">Ğ˜Ğ»Ğ¸ Ğ²Ğ²ĞµĞ´Ğ¸ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ´Ğ»Ñ Ñ€Ğ°ÑÑ‡ĞµÑ‚Ğ° Ğ˜ĞœĞ¢</h3>
        <input type="number" id="height" placeholder="Ğ Ğ¾ÑÑ‚, ÑĞ¼">
        <input type="number" id="weight" placeholder="Ğ’ĞµÑ, ĞºĞ³">
     </div>
Â  Â  Â  <button class="btn" id="analyze" style="margin-top:16px;">ĞĞ°Ğ·Ğ½Ğ°Ñ‡Ğ¸Ñ‚ÑŒ Ğ´Ğ¸ĞµÑ‚Ñƒ</button>
      <div id="alert-message" class="alert"></div>
Â  Â  </section>

Â  Â  Â  Â  <section class="card">
Â  Â  Â  <h2 id="resultTitle">Ğ¢Ğ²Ğ¾Ñ Ğ´Ğ¸ĞµÑ‚Ğ°</h2>
Â  Â  Â  <div id="result" class="diet">Ğ—Ğ´ĞµÑÑŒ Ğ¿Ğ¾ÑĞ²Ğ¸Ñ‚ÑÑ Ğ¿Ğ»Ğ°Ğ½ Ğ¿Ğ¸Ñ‚Ğ°Ğ½Ğ¸Ñ</div>
Â  Â  </section>
Â  </main>

Â  <script>
Â  Â  const fileInput = document.getElementById('file');
Â  Â  const img = document.getElementById('img');
Â  Â  const analyzeBtn = document.getElementById('analyze');
Â  Â  const resultEl = document.getElementById('result');
Â  Â  const flags = document.querySelectorAll('.flag');
    const heightInput = document.getElementById('height');
    const weightInput = document.getElementById('weight');
    const alertMessageEl = document.getElementById('alert-message');

    let currentLang = "ru";

    const diets = {
        ru: [
            { id: 'weightLoss', title: "ĞŸĞ¾Ñ…ÑƒĞ´ĞµĞ½Ğ¸Ğµ", text: "08:00 â€“ Ğ—Ğ°Ğ²Ñ‚Ñ€Ğ°Ğº: Ğ¾Ğ²ÑÑĞ½ĞºĞ° Ñ ÑĞ³Ğ¾Ğ´Ğ°Ğ¼Ğ¸ Ğ¸ Ğ·ĞµĞ»Ñ‘Ğ½Ñ‹Ğ¹ Ñ‡Ğ°Ğ¹ (300 ĞºĞºĞ°Ğ»)\n13:00 â€“ ĞĞ±ĞµĞ´: ĞºÑƒÑ€Ğ¸Ğ½Ğ°Ñ Ğ³Ñ€ÑƒĞ´ĞºĞ° Ğ½Ğ° Ğ³Ñ€Ğ¸Ğ»Ğµ + Ğ¾Ğ²Ğ¾Ñ‰Ğ½Ğ¾Ğ¹ ÑĞ°Ğ»Ğ°Ñ‚ (450 ĞºĞºĞ°Ğ»)\n19:00 â€“ Ğ£Ğ¶Ğ¸Ğ½: ÑĞ°Ğ»Ğ°Ñ‚ Ñ Ñ‚ÑƒĞ½Ñ†Ğ¾Ğ¼ Ğ¸ Ğ¾Ğ²Ğ¾Ñ‰Ğ°Ğ¼Ğ¸ (350 ĞºĞºĞ°Ğ»)\nĞ˜Ñ‚Ğ¾Ğ³Ğ¾: Ğ¾ĞºĞ¾Ğ»Ğ¾ 1100 ĞºĞºĞ°Ğ»."},
            { id: 'muscleGain', title: "ĞĞ°Ğ±Ğ¾Ñ€ Ğ¼Ğ°ÑÑÑ‹", text: "08:00 â€“ Ğ—Ğ°Ğ²Ñ‚Ñ€Ğ°Ğº: Ğ¾Ğ¼Ğ»ĞµÑ‚ Ğ¸Ğ· Ñ‡ĞµÑ‚Ñ‹Ñ€Ñ‘Ñ… ÑĞ¸Ñ† Ğ¸ Ñ†ĞµĞ»ÑŒĞ½Ğ¾Ğ·ĞµÑ€Ğ½Ğ¾Ğ²Ğ¾Ğ¹ Ñ…Ğ»ĞµĞ±, ĞºĞ¾Ñ„Ğµ (500 ĞºĞºĞ°Ğ»)\n13:30 â€“ ĞĞ±ĞµĞ´: Ñ€Ğ¸Ñ, Ğ³Ğ¾Ğ²ÑĞ´Ğ¸Ğ½Ğ° Ğ¸ Ğ¾Ğ²Ğ¾Ñ‰Ğ¸ Ğ½Ğ° Ğ¿Ğ°Ñ€Ñƒ (700 ĞºĞºĞ°Ğ»)\n20:00 â€“ Ğ£Ğ¶Ğ¸Ğ½: Ğ¿Ğ°ÑÑ‚Ğ° Ñ ĞºÑƒÑ€Ğ¸Ñ†ĞµĞ¹ Ğ¸ ÑĞ¾ÑƒÑĞ¾Ğ¼ (600 ĞºĞºĞ°Ğ»)\nĞ˜Ñ‚Ğ¾Ğ³Ğ¾: Ğ¾ĞºĞ¾Ğ»Ğ¾ 1800 ĞºĞºĞ°Ğ»."},
            { id: 'maintainWeight', title: "ĞŸĞ¾Ğ´Ğ´ĞµÑ€Ğ¶Ğ°Ğ½Ğ¸Ğµ Ğ²ĞµÑĞ°", text: "07:30 â€“ Ğ—Ğ°Ğ²Ñ‚Ñ€Ğ°Ğº: Ğ¹Ğ¾Ğ³ÑƒÑ€Ñ‚ Ñ Ğ¼ÑÑĞ»Ğ¸ Ğ¸ Ñ„Ñ€ÑƒĞºÑ‚Ğ°Ğ¼Ğ¸ (350 ĞºĞºĞ°Ğ»)\n13:00 â€“ ĞĞ±ĞµĞ´: ĞºÑƒÑ€Ğ¸Ñ†Ğ°, Ğ³Ñ€ĞµÑ‡ĞºĞ° Ğ¸ Ğ¾Ğ²Ğ¾Ñ‰Ğ¸ (550 ĞºĞºĞ°Ğ»)\n19:30 â€“ Ğ£Ğ¶Ğ¸Ğ½: Ñ€Ñ‹Ğ±Ğ° Ğ½Ğ° Ğ¿Ğ°Ñ€Ñƒ Ğ¸ ÑĞ°Ğ»Ğ°Ñ‚ Ğ¸Ğ· ÑĞ²ĞµĞ¶Ğ¸Ñ… Ğ¾Ğ²Ğ¾Ñ‰ĞµĞ¹ (450 ĞºĞºĞ°Ğ»)\nĞ˜Ñ‚Ğ¾Ğ³Ğ¾: Ğ¾ĞºĞ¾Ğ»Ğ¾ 1350 ĞºĞºĞ°Ğ»."},
            { id: 'vegetarian', title: "Ğ’ĞµĞ³ĞµÑ‚Ğ°Ñ€Ğ¸Ğ°Ğ½ÑĞºĞ°Ñ Ğ´Ğ¸ĞµÑ‚Ğ°", text: "08:30 â€“ Ğ—Ğ°Ğ²Ñ‚Ñ€Ğ°Ğº: Ñ‚Ğ¾ÑÑ‚ Ñ Ğ°Ğ²Ğ¾ĞºĞ°Ğ´Ğ¾ Ğ¸ ÑĞµĞ¼ĞµĞ½Ğ°Ğ¼Ğ¸ Ñ‡Ğ¸Ğ° (350 ĞºĞºĞ°Ğ»)\n13:00 â€“ ĞĞ±ĞµĞ´: Ñ‡ĞµÑ‡ĞµĞ²Ğ¸Ñ‡Ğ½Ñ‹Ğ¹ ÑÑƒĞ¿ Ñ Ñ†ĞµĞ»ÑŒĞ½Ğ¾Ğ·ĞµÑ€Ğ½Ğ¾Ğ²Ñ‹Ğ¼ Ñ…Ğ»ĞµĞ±Ğ¾Ğ¼ (400 ĞºĞºĞ°Ğ»)\n19:00 â€“ Ğ£Ğ¶Ğ¸Ğ½: ÑĞ°Ğ»Ğ°Ñ‚ Ğ¸Ğ· ĞºĞ¸Ğ½Ğ¾Ğ° Ñ Ğ¾Ğ²Ğ¾Ñ‰Ğ°Ğ¼Ğ¸ Ğ¸ Ğ½ÑƒÑ‚Ğ¾Ğ¼ (450 ĞºĞºĞ°Ğ»)\nĞ˜Ñ‚Ğ¾Ğ³Ğ¾: Ğ¾ĞºĞ¾Ğ»Ğ¾ 1200 ĞºĞºĞ°Ğ»."},
            { id: 'highProtein', title: "Ğ’Ñ‹ÑĞ¾ĞºĞ¾Ğ±ĞµĞ»ĞºĞ¾Ğ²Ğ°Ñ Ğ´Ğ¸ĞµÑ‚Ğ°", text: "08:00 â€“ Ğ—Ğ°Ğ²Ñ‚Ñ€Ğ°Ğº: Ğ¾Ğ¼Ğ»ĞµÑ‚ Ñ ÑÑ‹Ñ€Ğ¾Ğ¼ Ğ¸ ÑˆĞ¿Ğ¸Ğ½Ğ°Ñ‚Ğ¾Ğ¼ (400 ĞºĞºĞ°Ğ»)\n13:00 â€“ ĞĞ±ĞµĞ´: Ğ·Ğ°Ğ¿ĞµÑ‡ĞµĞ½Ğ½Ğ°Ñ ĞºÑƒÑ€Ğ¸Ğ½Ğ°Ñ Ğ³Ñ€ÑƒĞ´ĞºĞ° Ñ Ğ±Ñ€Ğ¾ĞºĞºĞ¾Ğ»Ğ¸ (500 ĞºĞºĞ°Ğ»)\n19:30 â€“ Ğ£Ğ¶Ğ¸Ğ½: Ğ½ĞµĞ¶Ğ¸Ñ€Ğ½Ñ‹Ğ¹ Ñ‚Ğ²Ğ¾Ñ€Ğ¾Ğ³ Ñ ÑĞ³Ğ¾Ğ´Ğ°Ğ¼Ğ¸ Ğ¸ Ğ¾Ñ€ĞµÑ…Ğ°Ğ¼Ğ¸ (300 ĞºĞºĞ°Ğ»)\nĞ˜Ñ‚Ğ¾Ğ³Ğ¾: Ğ¾ĞºĞ¾Ğ»Ğ¾ 1200 ĞºĞºĞ°Ğ»."}
        ],
        en: [
            { id: 'weightLoss', title: "Weight Loss", text: "08:00 â€“ Breakfast: oatmeal with berries and green tea (300 kcal)\n13:00 â€“ Lunch: grilled chicken breast with vegetable salad (450 kcal)\n19:00 â€“ Dinner: tuna salad with vegetables (350 kcal)\nTotal: about 1100 kcal."},
            { id: 'muscleGain', title: "Muscle Gain", text: "08:00 â€“ Breakfast: omelet of 4 eggs with whole grain bread, coffee (500 kcal)\n13:30 â€“ Lunch: rice with beef and steamed vegetables (700 kcal)\n20:00 â€“ Dinner: pasta with chicken and sauce (600 kcal)\nTotal: about 1800 kcal."},
            { id: 'maintainWeight', title: "Maintain Weight", text: "07:30 â€“ Breakfast: yogurt with muesli and fruits (350 kcal)\n13:00 â€“ Lunch: chicken, buckwheat and vegetables (550 kcal)\n19:30 â€“ Dinner: steamed fish with fresh vegetable salad (450 kcal)\nTotal: about 1350 kcal."},
            { id: 'vegetarian', title: "Vegetarian Diet", text: "08:30 â€“ Breakfast: avocado toast with chia seeds (350 kcal)\n13:00 â€“ Lunch: lentil soup with whole-grain bread (400 kcal)\n19:00 â€“ Dinner: quinoa salad with vegetables and chickpeas (450 kcal)\nTotal: about 1200 kcal."},
            { id: 'highProtein', title: "High Protein Diet", text: "08:00 â€“ Breakfast: omelet with cheese and spinach (400 kcal)\n13:00 â€“ Lunch: baked chicken breast with broccoli (500 kcal)\n19:30 â€“ Dinner: low-fat cottage cheese with berries and nuts (300 kcal)\nTotal: about 1200 kcal."}
        ]
    };

Â  Â  const uiText = {
Â  Â  Â  ru: {title: "AI Diet Planner (online)", subtitle: "Ğ—Ğ°Ğ³Ñ€ÑƒĞ·Ğ¸ Ñ„Ğ¾Ñ‚Ğ¾ â€” Ğ¿Ğ¾Ğ»ÑƒÑ‡Ğ¸ Ğ³Ğ¾Ñ‚Ğ¾Ğ²ÑƒÑ Ğ´Ğ¸ĞµÑ‚Ñƒ", uploadTitle: "Ğ—Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ° Ñ„Ğ¾Ñ‚Ğ¾", uploadBtn: "Ğ’Ñ‹Ğ±Ñ€Ğ°Ñ‚ÑŒ Ñ„Ğ¾Ñ‚Ğ¾", analyze: "ĞĞ°Ğ·Ğ½Ğ°Ñ‡Ğ¸Ñ‚ÑŒ Ğ´Ğ¸ĞµÑ‚Ñƒ", resultTitle: "Ğ¢Ğ²Ğ¾Ñ Ğ´Ğ¸ĞµÑ‚Ğ°", empty: "Ğ—Ğ´ĞµÑÑŒ Ğ¿Ğ¾ÑĞ²Ğ¸Ñ‚ÑÑ Ğ¿Ğ»Ğ°Ğ½ Ğ¿Ğ¸Ñ‚Ğ°Ğ½Ğ¸Ñ", bmiTitle: "Ğ˜Ğ»Ğ¸ Ğ²Ğ²ĞµĞ´Ğ¸ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ´Ğ»Ñ Ñ€Ğ°ÑÑ‡ĞµÑ‚Ğ° Ğ˜ĞœĞ¢", noPhotoAlert: "ĞŸĞ¾Ğ¶Ğ°Ğ»ÑƒĞ¹ÑÑ‚Ğ°, Ğ²Ñ‹Ğ±ĞµÑ€Ğ¸Ñ‚Ğµ Ñ„Ğ¾Ñ‚Ğ¾!", noResultAlert: "ĞĞµ ÑƒĞ´Ğ°Ğ»Ğ¾ÑÑŒ Ğ¾Ğ¿Ñ€ĞµĞ´ĞµĞ»Ğ¸Ñ‚ÑŒ Ğ´Ğ¸ĞµÑ‚Ñƒ Ğ¿Ğ¾ Ğ˜ĞœĞ¢. ĞŸĞ¾Ğ¿Ñ€Ğ¾Ğ±ÑƒĞ¹Ñ‚Ğµ ĞµÑ‰Ğµ Ñ€Ğ°Ğ·."},
Â  Â  Â  en: {title: "AI Diet Planner (online)", subtitle: "Upload a photo â€” get your diet plan", uploadTitle: "Upload Photo", uploadBtn: "Choose Photo", analyze: "Generate Diet", resultTitle: "Your Diet", empty: "Your diet plan will appear here", bmiTitle: "Or enter data for BMI calculation", noPhotoAlert: "Please select a photo!", noResultAlert: "Could not determine diet based on BMI. Please try again."}
Â  Â  };

Â  Â  fileInput.addEventListener('change', e=>{
Â  Â  Â  const f = e.target.files[0];
Â  Â  Â  if(f){ img.src = URL.createObjectURL(f); img.hidden = false; }
Â  Â  });

Â  Â  function speak(text, lang) {
Â  Â  Â  const utterance = new SpeechSynthesisUtterance(text);
Â  Â  Â  utterance.lang = lang === "ru" ? "ru-RU" : "en-US";
Â  Â  Â  speechSynthesis.cancel();
Â  Â  Â  speechSynthesis.speak(utterance);
Â  Â  }

    function calculateBMI(height, weight) {
        if (!height || !weight) return null;
        const heightM = height / 100;
        return weight / (heightM * heightM);
    }

    function getDietByBMI(bmi) {
        if (bmi === null) return null;
        if (bmi < 18.5) return 'muscleGain';
        if (bmi >= 18.5 && bmi < 25) return 'maintainWeight';
        if (bmi >= 25) return 'weightLoss';
        return null;
    }

Â  Â  analyzeBtn.addEventListener('click', ()=>{
        alertMessageEl.innerText = "";
        const height = parseFloat(heightInput.value);
        const weight = parseFloat(weightInput.value);
        const bmi = calculateBMI(height, weight);
        let diet = null;

        if (bmi) {
            const dietId = getDietByBMI(bmi);
            diet = diets[currentLang].find(d => d.id === dietId);
        } else {
            // Ğ•ÑĞ»Ğ¸ Ğ˜ĞœĞ¢ Ğ½Ğµ Ğ¿Ğ¾ÑÑ‡Ğ¸Ñ‚Ğ°Ğ½, Ğ¸Ñ‰ĞµĞ¼ ÑĞ»ÑƒÑ‡Ğ°Ğ¹Ğ½ÑƒÑ Ğ´Ğ¸ĞµÑ‚Ñƒ, ĞºÑ€Ğ¾Ğ¼Ğµ ÑĞ¿ĞµÑ†Ğ¸Ğ°Ğ»Ğ¸Ğ·Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ½Ñ‹Ñ…
            const generalDiets = diets[currentLang].filter(d => ['weightLoss', 'muscleGain', 'maintainWeight'].includes(d.id));
            diet = generalDiets[Math.floor(Math.random() * generalDiets.length)];
        }

        if (diet) {
            resultEl.innerHTML = `<h3>${diet.title}</h3>${diet.text}`;
            speak(`${diet.title}. ${diet.text}`, currentLang);
        } else {
            resultEl.innerHTML = uiText[currentLang].noResultAlert;
            speak(uiText[currentLang].noResultAlert, currentLang);
        }
Â  Â  });

Â  Â  function setLanguage(lang) {
Â  Â  Â  currentLang = lang;
Â  Â  Â  const t = uiText[currentLang];
Â  Â  Â  document.getElementById("title").innerText = t.title;
Â  Â  Â  document.getElementById("subtitle").innerText = t.subtitle;
Â  Â  Â  document.getElementById("uploadTitle").innerText = t.uploadTitle;
Â  Â  Â  document.getElementById("uploadBtn").innerText = t.uploadBtn;
Â  Â  Â  document.getElementById("analyze").innerText = t.analyze;
Â  Â  Â  document.getElementById("resultTitle").innerText = t.resultTitle;
Â  Â  Â  resultEl.innerText = t.empty;
      document.getElementById("bmiTitle").innerText = t.bmiTitle;
      heightInput.placeholder = lang === 'ru' ? "Ğ Ğ¾ÑÑ‚, ÑĞ¼" : "Height, cm";
      weightInput.placeholder = lang === 'ru' ? "Ğ’ĞµÑ, ĞºĞ³" : "Weight, kg";
      alertMessageEl.innerText = "";
Â  Â  Â  flags.forEach(f => f.classList.toggle('active', f.dataset.lang === lang));
Â  Â  }

Â  Â  flags.forEach(flag => flag.addEventListener('click', ()=>setLanguage(flag.dataset.lang)));

Â  Â  // Ğ˜Ğ½Ğ¸Ñ†Ğ¸Ğ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ
Â  Â  setLanguage('ru');
Â  </script>
</body>
</html>
