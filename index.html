<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>AI Diet Planner</title>
  <style>
    body {margin:0; font-family:system-ui; background:#0b0c10; color:#e6e7eb;}
    .app {max-width:900px; margin:40px auto; display:grid; grid-template-columns:1fr 1fr; gap:20px; padding:0 20px;}
    .card {background:#111319; border-radius:18px; padding:20px; box-shadow:0 6px 18px rgba(0,0,0,.35);}
    .btn {display:inline-block; padding:12px 18px; border-radius:12px;
          background:linear-gradient(135deg,#6ee7b7,#60a5fa); color:#0b1220;
          font-weight:700; cursor:pointer; border:none;}
    input[type=file]{display:none}
    .preview img {max-width:100%; border-radius:14px; border:1px solid rgba(255,255,255,.1);}
    .diet {margin-top:12px; line-height:1.5;}
    h2 {margin-top:0;}
    #lang-switcher {display:inline-flex; gap:10px; justify-content:center; margin-top:10px;}
    .flag {
      cursor: pointer;
      padding: 6px 10px;
      border-radius: 10px;
      border: 2px solid transparent;
      transition: all 0.3s ease;
      font-size: 24px;
    }
    .flag:hover {transform: scale(1.2);}
    .flag.active {border-color: #60a5fa; background: rgba(96,165,250,0.2);}
    #weekPlan {margin-top:20px; padding-top:10px; border-top:1px solid rgba(255,255,255,.2);}
  </style>
</head>
<body>
  <header style="text-align:center; margin:20px;">
    <h1 id="title">AI Diet Planner (online)</h1>
    <p id="subtitle">–ó–∞–≥—Ä—É–∑–∏ —Ñ–æ—Ç–æ ‚Äî –ø–æ–ª—É—á–∏ –≥–æ—Ç–æ–≤—É—é –¥–∏–µ—Ç—É</p>
    <div id="lang-switcher">
      <div class="flag" data-lang="ru">üá∑üá∫</div>
      <div class="flag" data-lang="en">üá∫üá∏</div>
      <div class="flag" data-lang="ka">üá¨üá™</div>
    </div>
  </header>

  <main class="app">
    <!-- –õ–µ–≤–∞—è –ø–∞–Ω–µ–ª—å -->
    <section class="card">
      <h2 id="uploadTitle">–ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–æ—Ç–æ</h2>
      <label class="btn" for="file" id="uploadBtn">–í—ã–±—Ä–∞—Ç—å —Ñ–æ—Ç–æ</label>
      <input type="file" id="file" accept="image/*">
      <div class="preview" style="margin-top:16px">
        <img id="img" hidden>
      </div>
      <button class="btn" id="analyze">–ù–∞–∑–Ω–∞—á–∏—Ç—å –¥–∏–µ—Ç—É</button>
    </section>

    <!-- –ü—Ä–∞–≤–∞—è –ø–∞–Ω–µ–ª—å -->
    <section class="card">
      <h2 id="resultTitle">–¢–≤–æ—è –¥–∏–µ—Ç–∞</h2>
      <div id="result" class="diet">–ó–¥–µ—Å—å –ø–æ—è–≤–∏—Ç—Å—è –ø–ª–∞–Ω –ø–∏—Ç–∞–Ω–∏—è</div>
      <div id="weekPlan"></div>
    </section>
  </main>

  <script>
    const fileInput = document.getElementById('file');
    const img = document.getElementById('img');
    const analyzeBtn = document.getElementById('analyze');
    const resultEl = document.getElementById('result');
    const weekPlanEl = document.getElementById('weekPlan');
    const flags = document.querySelectorAll('.flag');

    let currentLang = "ru";

    // –î–∏–µ—Ç—ã
    const diets = {
      ru: [
        {title: "–ü–æ—Ö—É–¥–µ–Ω–∏–µ", text: "08:00 ‚Äì –ó–∞–≤—Ç—Ä–∞–∫: –æ–≤—Å—è–Ω–∫–∞ —Å —è–≥–æ–¥–∞–º–∏ –∏ –∑–µ–ª—ë–Ω—ã–π —á–∞–π (300 –∫–∫–∞–ª)\n13:00 ‚Äì –û–±–µ–¥: –∫—É—Ä–∏–Ω–∞—è –≥—Ä—É–¥–∫–∞ –Ω–∞ –≥—Ä–∏–ª–µ + –æ–≤–æ—â–Ω–æ–π —Å–∞–ª–∞—Ç (450 –∫–∫–∞–ª)\n19:00 ‚Äì –£–∂–∏–Ω: —Å–∞–ª–∞—Ç —Å —Ç—É–Ω—Ü–æ–º –∏ –æ–≤–æ—â–∞–º–∏ (350 –∫–∫–∞–ª)\n–ò—Ç–æ–≥–æ: –æ–∫–æ–ª–æ 1100 –∫–∫–∞–ª.", week: "–ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫: –ª—ë–≥–∫–∏–π –∑–∞–≤—Ç—Ä–∞–∫, –æ–≤–æ—â–∏\n–í—Ç–æ—Ä–Ω–∏–∫: –∫—É—Ä–∏—Ü–∞ + —Å–∞–ª–∞—Ç\n–°—Ä–µ–¥–∞: —Ä—ã–±–∞ + –æ–≤–æ—â–∏\n–ß–µ—Ç–≤–µ—Ä–≥: –æ–≤—Å—è–Ω–∫–∞, —Å—É–ø\n–ü—è—Ç–Ω–∏—Ü–∞: –æ–≤–æ—â–Ω–æ–π –¥–µ–Ω—å\n–°—É–±–±–æ—Ç–∞: –∫—É—Ä–∏—Ü–∞ –≥—Ä–∏–ª—å\n–í–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ: –ª—ë–≥–∫–∏–π —É–∂–∏–Ω"},
        {title: "–ù–∞–±–æ—Ä –º–∞—Å—Å—ã", text: "08:00 ‚Äì –ó–∞–≤—Ç—Ä–∞–∫: –æ–º–ª–µ—Ç –∏–∑ —á–µ—Ç—ã—Ä—ë—Ö —è–∏—Ü –∏ —Ö–ª–µ–± (500 –∫–∫–∞–ª)\n13:30 ‚Äì –û–±–µ–¥: —Ä–∏—Å, –≥–æ–≤—è–¥–∏–Ω–∞ –∏ –æ–≤–æ—â–∏ (700 –∫–∫–∞–ª)\n20:00 ‚Äì –£–∂–∏–Ω: –ø–∞—Å—Ç–∞ —Å –∫—É—Ä–∏—Ü–µ–π –∏ —Å–æ—É—Å–æ–º (600 –∫–∫–∞–ª)\n–ò—Ç–æ–≥–æ: –æ–∫–æ–ª–æ 1800 –∫–∫–∞–ª.", week: "–ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫: –º—è—Å–æ + —Ä–∏—Å\n–í—Ç–æ—Ä–Ω–∏–∫: –ø–∞—Å—Ç–∞ + –∫—É—Ä–∏—Ü–∞\n–°—Ä–µ–¥–∞: —è–π—Ü–∞ + —Ö–ª–µ–±\n–ß–µ—Ç–≤–µ—Ä–≥: –≥–æ–≤—è–¥–∏–Ω–∞ + –æ–≤–æ—â–∏\n–ü—è—Ç–Ω–∏—Ü–∞: —Ä—ã–±–∞ + —Ä–∏—Å\n–°—É–±–±–æ—Ç–∞: –ø–∞—Å—Ç–∞ + –º—è—Å–æ\n–í–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ: –∫—É—Ä–∏—Ü–∞ + –æ–≤–æ—â–∏"},
        {title: "–ü–æ–¥–¥–µ—Ä–∂–∞–Ω–∏–µ –≤–µ—Å–∞", text: "07:30 ‚Äì –ó–∞–≤—Ç—Ä–∞–∫: –π–æ–≥—É—Ä—Ç —Å –º—é—Å–ª–∏ –∏ —Ñ—Ä—É–∫—Ç–∞–º–∏ (350 –∫–∫–∞–ª)\n13:00 ‚Äì –û–±–µ–¥: –∫—É—Ä–∏—Ü–∞, –≥—Ä–µ—á–∫–∞ –∏ –æ–≤–æ—â–∏ (550 –∫–∫–∞–ª)\n19:30 ‚Äì –£–∂–∏–Ω: —Ä—ã–±–∞ –Ω–∞ –ø–∞—Ä—É –∏ —Å–∞–ª–∞—Ç (450 –∫–∫–∞–ª)\n–ò—Ç–æ–≥–æ: –æ–∫–æ–ª–æ 1350 –∫–∫–∞–ª.", week: "–ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫: –π–æ–≥—É—Ä—Ç + –º—é—Å–ª–∏\n–í—Ç–æ—Ä–Ω–∏–∫: –≥—Ä–µ—á–∫–∞ + –∫—É—Ä–∏—Ü–∞\n–°—Ä–µ–¥–∞: —Ä—ã–±–∞ + –æ–≤–æ—â–∏\n–ß–µ—Ç–≤–µ—Ä–≥: —Å—É–ø + —Å–∞–ª–∞—Ç\n–ü—è—Ç–Ω–∏—Ü–∞: –π–æ–≥—É—Ä—Ç + —Ñ—Ä—É–∫—Ç—ã\n–°—É–±–±–æ—Ç–∞: –∫—É—Ä–∏—Ü–∞ + –æ–≤–æ—â–∏\n–í–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ: –ª—ë–≥–∫–∏–π —É–∂–∏–Ω"}
      ],
      en: [
        {title: "Weight Loss", text: "08:00 ‚Äì Breakfast: oatmeal with berries and green tea (300 kcal)\n13:00 ‚Äì Lunch: grilled chicken breast with vegetable salad (450 kcal)\n19:00 ‚Äì Dinner: tuna salad with vegetables (350 kcal)\nTotal: about 1100 kcal.", week: "Mon: oatmeal, tea\nTue: chicken + salad\nWed: fish + veggies\nThu: oatmeal, soup\nFri: veggie day\nSat: grilled chicken\nSun: light dinner"},
        {title: "Muscle Gain", text: "08:00 ‚Äì Breakfast: omelet of 4 eggs with bread (500 kcal)\n13:30 ‚Äì Lunch: rice with beef and vegetables (700 kcal)\n20:00 ‚Äì Dinner: pasta with chicken and sauce (600 kcal)\nTotal: about 1800 kcal.", week: "Mon: meat + rice\nTue: pasta + chicken\nWed: eggs + bread\nThu: beef + veggies\nFri: fish + rice\nSat: pasta + meat\nSun: chicken + veggies"},
        {title: "Maintain Weight", text: "07:30 ‚Äì Breakfast: yogurt with muesli and fruits (350 kcal)\n13:00 ‚Äì Lunch: chicken, buckwheat and vegetables (550 kcal)\n19:30 ‚Äì Dinner: fish with fresh vegetable salad (450 kcal)\nTotal: about 1350 kcal.", week: "Mon: yogurt + muesli\nTue: buckwheat + chicken\nWed: fish + veggies\nThu: soup + salad\nFri: yogurt + fruits\nSat: chicken + veggies\nSun: light dinner"}
      ],
      ka: [
        {title: "·É¨·Éù·Éú·Éò·É° ·Éì·Éê·Éô·Éö·Éî·Éë·Éê", text: "08:00 ‚Äì ·É°·Éê·É£·Éñ·Éõ·Éî: ·É®·Éï·É†·Éò·Éê ·Éô·Éî·Éú·Éô·É†·Éò·Éó ·Éì·Éê ·Éõ·É¨·Éï·Éê·Éú·Éî ·É©·Éê·Éò (300 ·Éô·Éô·Éê·Éö)\n13:00 ‚Äì ·É°·Éê·Éì·Éò·Éö·Éò: ·É•·Éê·Éó·Éõ·Éò·É° ·É§·Éò·Éö·Éî ·Éë·Éù·É°·É¢·Éú·Éî·É£·Éö·Éò·É° ·É°·Éê·Éö·Éê·Éó·Éò·Éó (450 ·Éô·Éô·Éê·Éö)\n19:00 ‚Äì ·Éï·Éê·ÉÆ·É®·Éê·Éõ·Éò: ·Éó·Éò·Éú·É£·É°·Éò·É° ·É°·Éê·Éö·Éê·Éó·Éò ·Éë·Éù·É°·É¢·Éú·Éî·É£·Éö·Éò·Éó (350 ·Éô·Éô·Éê·Éö)\n·ÉØ·Éê·Éõ·É®·Éò: ·Éì·Éê·Éê·ÉÆ·Éö·Éù·Éî·Éë·Éò·Éó 1100 ·Éô·Éô·Éê·Éö.", week: "·Éù·É†·É®·Éê·Éë·Éê·Éó·Éò: ·É®·Éï·É†·Éò·Éê + ·É©·Éê·Éò\n·É°·Éê·Éõ·É®·Éê·Éë·Éê·Éó·Éò: ·É•·Éê·Éó·Éê·Éõ·Éò + ·É°·Éê·Éö·Éê·Éó·Éò\n·Éù·Éó·ÉÆ·É®·Éê·Éë·Éê·Éó·Éò: ·Éó·Éî·Éï·Éñ·Éò + ·Éë·Éù·É°·É¢·Éú·Éî·É£·Éö·Éò\n·ÉÆ·É£·Éó·É®·Éê·Éë·Éê·Éó·Éò: ·É°·É£·Éû·Éò + ·É°·Éê·Éö·Éê·Éó·Éò\n·Éû·Éê·É†·Éê·É°·Éô·Éî·Éï·Éò: ·Éë·Éù·É°·É¢·Éú·Éî·É£·Éö·Éò·É° ·Éì·É¶·Éî\n·É®·Éê·Éë·Éê·Éó·Éò: ·Éí·É†·Éò·Éö·Éò ·É•·Éê·Éó·Éê·Éõ·Éò\n·Éô·Éï·Éò·É†·Éê: ·Éõ·É°·É£·Éë·É£·É•·Éò ·Éï·Éê·ÉÆ·É®·Éê·Éõ·Éò"},
        {title: "·Éõ·Éê·É°·Éò·É° ·Éõ·Éù·Éõ·Éê·É¢·Éî·Éë·Éê", text: "08:00 ‚Äì ·É°·Éê·É£·Éñ·Éõ·Éî: 4 ·Éô·Éï·Éî·É†·É™·ÉÆ·Éò·É° ·Éù·Éõ·Éö·Éî·É¢·Éò ·Éì·Éê ·Éû·É£·É†·Éò (500 ·Éô·Éô·Éê·Éö)\n13:30 ‚Äì ·É°·Éê·Éì·Éò·Éö·Éò: ·Éë·É†·Éò·Éú·ÉØ·Éò, ·É´·É†·Éù·ÉÆ·Éò·É° ·ÉÆ·Éù·É†·É™·Éò ·Éì·Éê ·Éë·Éù·É°·É¢·Éú·Éî·É£·Éö·Éò (700 ·Éô·Éô·Éê·Éö)\n20:00 ‚Äì ·Éï·Éê·ÉÆ·É®·Éê·Éõ·Éò: ·Éû·Éê·É°·É¢·Éê ·É•·Éê·Éó·Éõ·Éò·Éó ·Éì·Éê ·É°·Éù·É£·É°·Éò·Éó (600 ·Éô·Éô·Éê·Éö)\n·ÉØ·Éê·Éõ·É®·Éò: ·Éì·Éê·Éê·ÉÆ·Éö·Éù·Éî·Éë·Éò·Éó 1800 ·Éô·Éô·Éê·Éö.", week: "·Éù·É†·É®·Éê·Éë·Éê·Éó·Éò: ·ÉÆ·Éù·É†·É™·Éò + ·Éë·É†·Éò·Éú·ÉØ·Éò\n·É°·Éê·Éõ·É®·Éê·Éë·Éê·Éó·Éò: ·Éû·Éê·É°·É¢·Éê + ·É•·Éê·Éó·Éê·Éõ·Éò\n·Éù·Éó·ÉÆ·É®·Éê·Éë·Éê·Éó·Éò: ·Éô·Éï·Éî·É†·É™·ÉÆ·Éò + ·Éû·É£·É†·Éò\n·ÉÆ·É£·Éó·É®·Éê·Éë·Éê·Éó·Éò: ·É´·É†·Éù·ÉÆ·Éê + ·Éë·Éù·É°·É¢·Éú·Éî·É£·Éö·Éò\n·Éû·Éê·É†·Éê·É°·Éô·Éî·Éï·Éò: ·Éó·Éî·Éï·Éñ·Éò + ·Éë·É†·Éò·Éú·ÉØ·Éò\n·É®·Éê·Éë·Éê·Éó·Éò: ·Éû·Éê·É°·É¢·Éê + ·ÉÆ·Éù·É†·É™·Éò\n·Éô·Éï·Éò·É†·Éê: ·É•·Éê·Éó·Éê·Éõ·Éò + ·Éë·Éù·É°·É¢·Éú·Éî·É£·Éö·Éò"},
        {title: "·É¨·Éù·Éú·Éò·É° ·É®·Éî·Éú·Éê·É†·É©·É£·Éú·Éî·Éë·Éê", text: "07:30 ‚Äì ·É°·Éê·É£·Éñ·Éõ·Éî: ·Éò·Éù·Éí·É£·É†·É¢·Éò ·Éõ·Éò·É£·É°·Éö·Éò·Éó ·Éì·Éê ·ÉÆ·Éò·Éö·Éò·Éó (350 ·Éô·Éô·Éê·Éö)\n13:00 ‚Äì ·É°·Éê·Éì·Éò·Éö·Éò: ·É•·Éê·Éó·Éê·Éõ·Éò, ·É¨·Éò·É¨·Éò·Éë·É£·É†·Éê ·Éì·Éê ·Éë·Éù·É°·É¢·Éú·Éî·É£·Éö·Éò (550 ·Éô·Éô·Éê·Éö)\n19:30 ‚Äì ·Éï·Éê·ÉÆ·É®·Éê·Éõ·Éò: ·Éó·Éî·Éï·Éñ·Éò ·Éì·Éê ·É°·Éê·Éö·Éê·Éó·Éò (450 ·Éô·Éô·Éê·Éö)\n·ÉØ·Éê·Éõ·É®·Éò: ·Éì·Éê·Éê·ÉÆ·Éö·Éù·Éî·Éë·Éò·Éó 1350 ·Éô·Éô·Éê·Éö.", week: "·Éù·É†·É®·Éê·Éë·Éê·Éó·Éò: ·Éò·Éù·Éí·É£·É†·É¢·Éò + ·Éõ·Éò·É£·É°·Éö·Éò\n·É°·Éê·Éõ·É®·Éê·Éë·Éê·Éó·Éò: ·É¨·Éò·É¨·Éò·Éë·É£·É†·Éê + ·É•·Éê·Éó·Éê·Éõ·Éò\n·Éù·Éó·ÉÆ·É®·Éê·Éë·Éê·Éó·Éò: ·Éó·Éî·Éï·Éñ·Éò + ·Éë·Éù·É°·É¢·Éú·Éî·É£·Éö·Éò\n·ÉÆ·É£·Éó·É®·Éê·Éë·Éê·Éó·Éò: ·É°·É£·Éû·Éò + ·É°·Éê·Éö·Éê·Éó·Éò\n·Éû·Éê·É†·Éê·É°·Éô·Éî·Éï·Éò: ·Éò·Éù·Éí·É£·É†·É¢·Éò + ·ÉÆ·Éò·Éö·Éò\n·É®·Éê·Éë·Éê·Éó·Éò: ·É•·Éê·Éó·Éê·Éõ·Éò + ·Éë·Éù·É°·É¢·Éú·Éî·É£·Éö·Éò\n·Éô·Éï·Éò·É†·Éê: ·Éõ·É°·É£·Éë·É£·É•·Éò ·Éï·Éê·ÉÆ·É®·Éê·Éõ·Éò"}
      ]
    };

    // UI —Ç–µ–∫—Å—Ç—ã
    const uiText = {
      ru: {title: "AI Diet Planner (online)", subtitle: "–ó–∞–≥—Ä—É–∑–∏ —Ñ–æ—Ç–æ ‚Äî –ø–æ–ª—É—á–∏ –≥–æ—Ç–æ–≤—É—é –¥–∏–µ—Ç—É", uploadTitle: "–ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–æ—Ç–æ", uploadBtn: "–í—ã–±—Ä–∞—Ç—å —Ñ–æ—Ç–æ", analyze: "–ù–∞–∑–Ω–∞—á–∏—Ç—å –¥–∏–µ—Ç—É", resultTitle: "–¢–≤–æ—è –¥–∏–µ—Ç–∞", empty: "–ó–¥–µ—Å—å –ø–æ—è–≤–∏—Ç—Å—è –ø–ª–∞–Ω –ø–∏—Ç–∞–Ω–∏—è", week: "–î–∏–µ—Ç–∞ –Ω–µ–¥–µ–ª–∏"},
      en: {title: "AI Diet Planner (online)", subtitle: "Upload a photo ‚Äî get your diet plan", uploadTitle: "Upload Photo", uploadBtn: "Choose Photo", analyze: "Generate Diet", resultTitle: "Your Diet", empty: "Your diet plan will appear here", week: "Weekly Plan"},
      ka: {title: "AI Diet Planner (online)", subtitle: "·Éê·É¢·Éï·Éò·É†·Éó·Éî ·É§·Éù·É¢·Éù ‚Äî ·Éõ·Éò·Éò·É¶·Éî ·Éì·Éò·Éî·É¢·Éò·É° ·Éí·Éî·Éí·Éõ·Éê", uploadTitle: "·É§·Éù·É¢·Éù·É° ·Éê·É¢·Éï·Éò·É†·Éó·Éï·Éê", uploadBtn: "·Éê·Éò·É†·É©·Éò·Éî ·É§·Éù·É¢·Éù", analyze: "·Éì·Éò·Éî·É¢·Éò·É° ·Éì·Éê·Éí·Éî·Éí·Éõ·Éï·Éê", resultTitle: "·É®·Éî·Éú·Éò ·Éì·Éò·Éî·É¢·Éê", empty: "·Éê·É• ·Éí·Éê·Éõ·Éù·É©·Éú·Éì·Éî·Éë·Éê ·Éì·Éò·Éî·É¢·Éò·É° ·Éí·Éî·Éí·Éõ·Éê", week: "·Éô·Éï·Éò·É†·Éò·É° ·Éì·Éò·Éî·É¢·Éê"}
    };

    fileInput.addEventListener('change', e=>{
      const f = e.target.files[0];
      if(f){ img.src = URL.createObjectURL(f); img.hidden = false; }
    });

    function speak(text, lang) {
      const utterance = new SpeechSynthesisUtterance(text);
      utterance.lang = lang === "ru" ? "ru-RU" : lang === "en" ? "en-US" : "ka-GE";
      speechSynthesis.cancel();
      speechSynthesis.speak(utterance);
    }

    analyzeBtn.addEventListener('click', ()=>{
      const d = diets[currentLang][Math.floor(Math.random()*diets[currentLang].length)];
      resultEl.innerHTML = `<h3>${d.title}</h3>${d.text.replace(/\n/g,"<br>")}`;
      weekPlanEl.innerHTML = `<h4>${uiText[currentLang].week}</h4><p>${d.week.replace(/\n/g,"<br>")}</p>`;
      speak(`${d.title}. ${d.text}`, currentLang);
    });

    function setLanguage(lang) {
      currentLang = lang;
      const t = uiText[currentLang];
      document.getElementById("title").innerText = t.title;
      document.getElementById("subtitle").innerText = t.subtitle;
      document.getElementById("uploadTitle").innerText = t.uploadTitle;
      document.getElementById("uploadBtn").innerText = t.uploadBtn;
      document.getElementById("analyze").innerText = t.analyze;
      document.getElementById("resultTitle").innerText = t.resultTitle;
      resultEl.innerText = t.empty;
      weekPlanEl.innerHTML = "";
      flags.forEach(f => f.classList.toggle('active', f.dataset.lang === lang));
    }

    flags.forEach(flag => flag.addEventListener('click', ()=>setLanguage(flag.dataset.lang)));
    setLanguage('ru');
  </script>
</body>
</html>
